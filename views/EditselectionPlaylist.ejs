<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Document</title>
  <link rel="stylesheet" href="/css/groupScreen.css" />
  <script>
    const screenIDS=sessionStorage.getItem('screenIDS');
    console.log("screenIDS",screenIDS);
  </script>

</head>

<body>
  <div class="group">
    <div class="header">
      <!-- <div class="group-screen">
        <p>Home > <b>Group Screen</b></p>
      </div> -->
      <div class="group-screen-btn">
        <!-- <button onclick="goBack()">Go Back</button> -->
        <button onclick="publishPlaylist()">Publish</button>
      </div>
    </div>


    <div class="heading">
      <h3>Select Screens to Publish Playlist</h3>
      <!-- <h3>Selected Screens</h3> -->
    </div>

    <div class="selection-screens">
      <div class="select-screen">
        <!-- <input type="search" id="searchInput" placeholder="Search"> -->
        <table>
          <thead>
            <tr>
              <th></th>
              <th>Screen ID</th>
              <!-- <th>PAIRING CODE</th> -->
              <th>Playlist Name</th>
              <th>SCREEN NAME</th>
              <th>STATUS</th>
            </tr>
          </thead>
          <tbody>
            <%# console.log("group : ",group); %>
            <% if (screens && screens.length) { %>
                <% screens.forEach(screen => { %>
                  <% if (screen.playlistname === 'No Playlist') { %>
                    <tr>
                      <td>                  
                        <input type="checkbox" name="checkbox" value="<%= screen.id %>"/>
                      </td>
                      <td><%= screen.id %></td>
                      <!-- <td><%#= screen.pairingcode %></td> -->
                      <td><%= screen.playlistname %></td>
                      <td><%= screen.screenname %></td>
                      <td class="status-cell">
                        <span class="<%= screen.deleted ? 'offline' : 'online' %>">
                          <%= screen.deleted ? 'Offline' : 'Online' %>
                        </span>                  
                      </td>
                    </tr>
                  <% } %>
                <% }) %>
              <% } else { %>
                <tr>
                  <td colspan="6">No screens found</td>
                </tr>
              <% } %>
          </tbody>
        </table>
      </div>
      <div class="selected-screen" >
        <table id="selectedScreensTable">
          <thead>
            <tr>
              <th>SR.NO</th>
              <th>SCREEN ID</th>
              <th>PLAYLIST NAME</th>
              <!-- <th>SCREEN LOCATION</th> -->
            </tr>
          </thead>
          <tbody>
            
            
              <% playlistsAll.forEach((playlist, index) => { %>
                <tr>
                  <td>
                    <%= index + 1 %>
                  </td>
                  <td>
                    <%= playlist.screen_id %>
                  </td>
                  <td>
                    <%= playlist.playlistname %>
                  </td>
                  
                </tr>
              <% }) %>
            
              
          </tbody>
        </table>
      </div>
    </div>

  </div>

 
  <!-- <script src="/javaScripts/selectionNewPlaylist.js"></script> -->

</body>

</html>
